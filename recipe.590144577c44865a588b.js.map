{"version":3,"file":"recipe.590144577c44865a588b.js","mappings":"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","sources":["webpack://recipes/./node_modules/html-loader/dist/runtime/getUrl.js","webpack://recipes/webpack/bootstrap","webpack://recipes/webpack/runtime/compat get default export","webpack://recipes/webpack/runtime/define property getters","webpack://recipes/webpack/runtime/global","webpack://recipes/webpack/runtime/hasOwnProperty shorthand","webpack://recipes/webpack/runtime/publicPath","webpack://recipes/webpack/runtime/jsonp chunk loading","webpack://recipes/./src/pages/recipe/recipe.html","webpack://recipes/./src/scripts/utils.js","webpack://recipes/./src/scripts/storage.js","webpack://recipes/./src/scripts/templates.js","webpack://recipes/./src/pages/recipe/recipe.js","webpack://recipes/./src/scripts/api.js"],"sourcesContent":["\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n\n  // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n  url = String(url.__esModule ? url.default : url);\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n  return url;\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t141: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../../../node_modules/html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"../../assets/reciptoria_logo.svg\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<!DOCTYPE html> <html lang=\\\"en\\\"> <head> <meta charset=\\\"UTF-8\\\"> <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\"> <title>Document</title> </head> <body> <header class=\\\"topbar\\\"> <div class=\\\"left-side\\\"> <button id=\\\"backBtn\\\" class=\\\"back-btn\\\" title=\\\"Back\\\"></button> <a href=\\\"./saved.html\\\" title=\\\"Favorites\\\" class=\\\"saved-link\\\"></a> </div> <a href=\\\"./index.html\\\" class=\\\"logo\\\"> <img src=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" alt=\\\"Reciptoria\\\"> </a> </header> <section id=\\\"recipeWrapper\\\" class=\\\"recipe-wrapper\\\"> <div id=\\\"loader\\\" class=\\\"loader\\\"> <div class=\\\"lds-grid\\\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div> </div> <div id=\\\"background\\\" class=\\\"background\\\"></div> </section> <footer class=\\\"footer\\\"> <p>Powered by <a class=\\\"api-link\\\" href=\\\"https://dummyjson.com/\\\" target=\\\"_blank\\\">Dummy<b>JSON</b></a></p> <p>Created by <a class=\\\"dev-link\\\" href=\\\"https://github.com/juliabgkv\\\" target=\\\"_blank\\\">juliabgkv</a></p> </footer> </body> </html>\";\n// Exports\nexport default code;","import { recipeCardTemplate } from './templates';\r\n\r\nexport function htmlToElement(htmlString) {\r\n    const div = document.createElement('div');\r\n    div.innerHTML = htmlString.trim();\r\n\r\n    return div.firstChild;\r\n}\r\n\r\nexport function extractRecipeCardData(data) {\r\n    return data.map(({ id, name, image, rating, reviewCount }) => { \r\n        return { id, name, image, rating, reviewCount };\r\n    });\r\n}\r\n\r\nexport function createRecipeCardElement(r) {\r\n    const html = recipeCardTemplate.replace('{{id}}', r.id)\r\n                                        .replace('{{cardId}}', r.id)\r\n                                        .replace('{{img}}', r.image)\r\n                                        .replace('{{imgAlt}}', r.name)\r\n                                        .replace('{{name}}', r.name)\r\n                                        .replace('{{rating}}', r.rating)\r\n                                        .replace('{{reviewCount}}', r.reviewCount);\r\n\r\n    const element = htmlToElement(html);\r\n    element.querySelector('.star-inner').style.width = `${(r.rating / 5) * 100}%`;\r\n\r\n    return element;\r\n}\r\n\r\nexport function showLoader(isActive, loaderEl) {\r\n    if(isActive) loaderEl.classList.add('active');\r\n    else loaderEl.classList.remove('active');\r\n}","const STORAGE_KEY = 'saved-recipes-id';\r\n\r\nexport function getSavedIDs() {\r\n    return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\r\n}\r\n\r\nexport function addID(id) {\r\n    const ids = getSavedIDs();\r\n    ids.push(id);\r\n    saveIDs(ids);\r\n}\r\n\r\nexport function deleteID(id) {\r\n    let ids = getSavedIDs();\r\n    const idx = ids.indexOf(id);\r\n    ids.splice(idx, 1);\r\n    saveIDs(ids);\r\n}\r\n\r\nfunction saveIDs(idArr) {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(idArr));\r\n}","export const categoryItemTemplate = `\r\n    <li data-category-id=\"{{id}}\" class='category'>{{category}}</li>\r\n`;\r\n\r\nexport const allCategoryTemplate = `<li data-category-id=\"all\" class=\"category active\">All</li>`;\r\n\r\nexport const recipeCardTemplate = `\r\n    <a href=\"./recipe.html?recipe-id={{id}}\" id={{cardId}} class=\"recipe-card\">\r\n        <div class=\"save-btn\"></div>\r\n        <div class=\"card-photo-wrap\">\r\n            <img src={{img}} alt={{imgAlt}} class=\"card-photo\">\r\n        </div>\r\n        <div class=\"card-description\">\r\n            <h4 class=\"card-description-name\">{{name}}</h4>\r\n            <div class=\"card-description-rating\">\r\n                <div class=\"star-outer\">\r\n                    <div class=\"star-inner\"></div>\r\n                </div>\r\n                <div class=\"rating\">{{rating}}</div>\r\n                <div class=\"review-count\">({{reviewCount}})</div>\r\n            </div>\r\n        </div>\r\n    </a>\r\n`;\r\n\r\nexport const searchResTemplate = `\r\n    <a href=\"./recipe.html?recipe-id={{id}}\" class=\"result-item\">\r\n        <img src=\"{{img}}\" alt=\"{{imgAlt}}\" class=\"result-item-img\">\r\n        <p class=\"result-item-name\">{{name}}</p>\r\n    </a>\r\n`;\r\n\r\nexport const recipePageTemplate = `\r\n    <div id=\"recipe\" class=\"recipe\">\r\n        <div class=\"save-btn save-recipe-btn\"></div>\r\n        <div class=\"header\">\r\n            <div class=\"recipe-name\">{{name}}</div>\r\n            <div class=\"categories\"></div>\r\n            <div class=\"rating-block\">\r\n                <div class=\"star-outer\">\r\n                    <div class=\"star-inner\"></div>\r\n                </div>\r\n                <div class=\"rating\">{{rating}}/5</div>\r\n                <div class=\"review-count\">({{reviewCount}})</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"recipe-details\">\r\n            <div class=\"left-side\">\r\n                <div class=\"icon\"></div>\r\n                <div class=\"group\">\r\n                    <div class=\"group-title\">PREP TIME</div>\r\n                    <div class=\"group-data\">{{prepTimeMinutes}} minute(s)</div>\r\n                </div>\r\n                <div class=\"group\">\r\n                    <div class=\"group-title\">COOK TIME</div>\r\n                    <div class=\"group-data\">{{cookTimeMinutes}} minute(s)</div>\r\n                </div>\r\n                <div class=\"group\">\r\n                    <div class=\"group-title\">DIFFICULTY</div>\r\n                    <div class=\"group-data\">{{difficulty}}</div>\r\n                </div>\r\n            </div>\r\n            <img src=\"{{image}}\" alt=\"{{imgAlt}}\" class=\"recipe-photo\">\r\n            <div class=\"right-side\">\r\n                <div class=\"icon\"></div>\r\n                <div class=\"group\">\r\n                    <div class=\"group-title\">SERVINGS</div>\r\n                    <div class=\"group-data\">{{servings}} person(s)</div>\r\n                </div>\r\n                <div class=\"group\">\r\n                    <div class=\"group-title\">CALORIES</div>\r\n                    <div class=\"group-data\">{{caloriesPerServing}} Kcal</div>\r\n                </div>\r\n                <div class=\"group\">\r\n                    <div class=\"group-title\">CUISINE</div>\r\n                    <div class=\"group-data\">{{cuisine}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"recipe-body\">\r\n            <div class=\"ingredients\">\r\n                <h3 class=\"recipe-body-title\"><span>Ingredients</span></h3>\r\n                <ul class=\"ingredients-list\"></ul>\r\n            </div>\r\n            <div class=\"instructions\">\r\n                <h3 class=\"recipe-body-title\"><span>Instructions</span></h3>\r\n                <ol class=\"instructions-list\"></ol>\r\n            </div>\r\n        </div>\r\n        <div class=\"btns-group\">\r\n            <button id=\"saveBtn\" class=\"save-bottom-button save-recipe-btn\">Favourite</button>\r\n        </div>\r\n    </div>\r\n`;","import './recipe.html';\r\nimport './recipe.scss';\r\n\r\nimport { getRecipe } from '../../scripts/api';\r\nimport { htmlToElement, showLoader} from '../../scripts/utils';\r\nimport { addID, deleteID, getSavedIDs } from '../../scripts/storage';\r\nimport { recipePageTemplate } from '../../scripts/templates';\r\n\r\nconst SELECTOR_SAVED_CLASS = 'saved';\r\nconst loader = document.getElementById('loader');\r\nconst backBtn = document.getElementById('backBtn');\r\nlet saveBtns = null;\r\nlet id;\r\n\r\nbackBtn.addEventListener('click', () => history.back());\r\n\r\nif(window.location.search) {\r\n    showLoader(true, loader);\r\n    const params = new URLSearchParams(location.search);\r\n    id = params.get('recipe-id');\r\n\r\n    getRecipe(id)\r\n        .then(data => {\r\n            if(!data) {\r\n                showNotFound();\r\n            } else {\r\n                document.title = data.name;\r\n\r\n                const template = recipePageTemplate;\r\n                const html = template.replace('{{id}}', data.id)\r\n                                        .replace('{{name}}', data.name)\r\n                                        .replace('{{rating}}', data.rating)\r\n                                        .replace('{{reviewCount}}', data.reviewCount)\r\n                                        .replace('{{prepTimeMinutes}}', data.prepTimeMinutes)\r\n                                        .replace('{{cookTimeMinutes}}', data.cookTimeMinutes)\r\n                                        .replace('{{difficulty}}', data.difficulty)\r\n                                        .replace('{{image}}', data.image)\r\n                                        .replace('{{imgAlt}}', data.name)\r\n                                        .replace('{{servings}}', data.servings)\r\n                                        .replace('{{caloriesPerServing}}', data.caloriesPerServing)\r\n                                        .replace('{{cuisine}}', data.cuisine);\r\n\r\n                const element = htmlToElement(html);\r\n\r\n                // render meal categorie(s)\r\n                const span = document.createElement('span');\r\n                data.mealType.map(t => {\r\n                    if(span.innerText.length > 0) span.innerText = `${span.innerText} / ${t}`;\r\n                    else span.innerText = `${t}`;\r\n                    \r\n                    element.querySelector('.categories').appendChild(span);\r\n                });\r\n\r\n                // render ingredients list\r\n                const ingredientsList = element.querySelector('.ingredients-list');\r\n                data.ingredients.map(ingr => ingredientsList.appendChild(createLiElement(ingr)));\r\n\r\n                // render instructions list\r\n                const instructionsList = element.querySelector('.instructions-list');\r\n                data.instructions.map(step => instructionsList.appendChild(createLiElement(step)));\r\n\r\n                // append filled out recipe element\r\n                document.getElementById('recipeWrapper').appendChild(element);\r\n                document.getElementById('background').style.backgroundImage = `url(${data.image})`;\r\n\r\n                // render save recipe btns\r\n                saveBtns = document.getElementsByClassName('save-recipe-btn');\r\n                const isSaved = getSavedIDs().some(recipeID => recipeID == id);\r\n                for(let btn of saveBtns) {\r\n                    if(isSaved) btn.classList.add('saved');\r\n                    btn.addEventListener('click', saveBtnClickHandler);\r\n                }\r\n\r\n                showLoader(false, loader);\r\n            }\r\n        });\r\n} else {\r\n    showNotFound();\r\n}\r\n\r\nfunction saveBtnClickHandler() {\r\n    if(this.classList.contains(SELECTOR_SAVED_CLASS)) {\r\n        deleteID(id);\r\n    }\r\n    else {\r\n        addID(id);\r\n    }\r\n    \r\n    for(let btn of saveBtns) {\r\n        btn.classList.toggle(SELECTOR_SAVED_CLASS);\r\n    }\r\n}\r\n\r\nfunction showNotFound() {\r\n    document.getElementById('recipeWrapper').innerText = 'Recipe Not Found';\r\n}\r\n\r\nfunction createLiElement(text) {\r\n    const li = document.createElement('li');\r\n    li.innerText = text;\r\n\r\n    return li;\r\n}","const API_BASE_URL = 'https://dummyjson.com/recipes';\r\nexport const URL_PATHS = {\r\n    search: '/search',\r\n    mealType: '/meal-type',\r\n    empty: ''\r\n};\r\n\r\nexport function getRecipes(path, params) {\r\n    let url = buildURL(path, params);\r\n\r\n    return fetch(url)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                data.recipes = checkFixDishes(data.recipes);\r\n                return data;\r\n            })\r\n            .catch(error => console.error(error));\r\n}\r\n\r\nexport function getRecipe(id) {\r\n    return fetch(`${API_BASE_URL}/${id}`)\r\n        .then(res => res.json())\r\n        .then(recipe => { \r\n                if(isrus(recipe))\r\n                    fix(recipe);\r\n\r\n                return recipe;\r\n        })\r\n        .catch(error => console.error(error));\r\n}\r\n\r\nfunction buildURL(path, params) {\r\n    let url = `${API_BASE_URL}${path}`;\r\n    params = cleanEmptyProps(params);\r\n\r\n    if(params)\r\n        url = `${url}?${new URLSearchParams(params)}`;\r\n\r\n    return url;\r\n}\r\n\r\nfunction cleanEmptyProps(obj) {\r\n    for(let propName in obj) {\r\n        if(obj[propName] === '') {\r\n            delete obj[propName];\r\n        }\r\n    }\r\n\r\n    return obj;\r\n}\r\n\r\n// fixed horrible, unacceptable API mistake - Borscht is Ukrainian meal\r\nfunction checkFixDishes(recipes) {\r\n    recipes.find(recipe => { if(isrus(recipe)) fix(recipe) });\r\n    return recipes;\r\n}\r\n\r\nfunction isrus(recipe){\r\n    return recipe.name.includes('Russian Borscht');\r\n}\r\n\r\nfunction fix(recipe) {\r\n    recipe.name = 'Ukrainian Borscht';\r\n    recipe.cuisine = 'Ukrainian';\r\n\r\n    return recipe;\r\n}"],"names":["module","exports","url","options","String","__esModule","default","hash","maybeNeedQuotes","test","concat","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","n","getter","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","i","Error","replace","p","b","baseURI","self","href","___HTML_LOADER_IMPORT_0___","URL","showLoader","isActive","loaderEl","classList","add","remove","STORAGE_KEY","getSavedIDs","JSON","parse","localStorage","getItem","saveIDs","idArr","setItem","stringify","SELECTOR_SAVED_CLASS","loader","getElementById","backBtn","id","saveBtns","addEventListener","history","back","search","params","URLSearchParams","fetch","then","res","json","recipe","name","includes","isrus","cuisine","fix","catch","error","console","getRecipe","data","title","element","htmlString","div","createElement","innerHTML","trim","firstChild","htmlToElement","rating","reviewCount","prepTimeMinutes","cookTimeMinutes","difficulty","image","servings","caloriesPerServing","span","mealType","map","t","innerText","querySelector","appendChild","ingredientsList","ingredients","ingr","createLiElement","instructionsList","instructions","step","style","backgroundImage","getElementsByClassName","isSaved","some","recipeID","btn","saveBtnClickHandler","showNotFound","contains","ids","idx","indexOf","splice","deleteID","push","addID","toggle","text","li"],"sourceRoot":""}